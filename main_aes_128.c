//#include <msp430.h>
//--- F_CPU & BAUD RATE ---//
#define F_CPU		8000000UL	//--- CPU Clock Frequency
#define BAUD RATE	9600		//--- Transmission Baud Rate

#include <avr/io.h>
//#include "TI_aes_128.h"
#include "AES.h"
#include "Usart.h"

int main( void )
{
	usart_init();

  unsigned char state[] = {0x41, 0x4d, 0x50, 0x53, 0x61, 0x6d, 0x70, 0x73, 
                               0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37};
  //unsigned char ciphertext[] = {0x69, 0xc4, 0xe0, 0xd8, 0x6a, 0x7b, 0x04, 0x30,
                            //  0xd8, 0xcd, 0xb7, 0x80, 0x70, 0xb4, 0xc5, 0x5a};
  unsigned char key1[]   = {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,
                           0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f};

  unsigned char key2[]   = {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,
                           0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f};
  
 
  usart_msg_tx("Plain Text:    ");
  usart_msg_tx(&state[0]);
  aes_enc_dec(state,key1,0);
  usart_tx(0x0d);
  usart_msg_tx("Ciphered Text:   ");
  usart_sec_tx(&state[0]);
  aes_enc_dec(state,key2,1);
  usart_tx(0x0d);
  usart_msg_tx("DiCiphered Text:   ");
  usart_sec_tx(&state[0]);

  return 0;
}

 

